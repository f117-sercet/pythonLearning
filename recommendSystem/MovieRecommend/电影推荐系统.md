# 电影推荐系统 
### 项目背景
以MoviesLens数据集为依托，以真实网站业务数据架构为基础，包含了离线推荐与实时推荐体系，综合利用了协同过滤算法以及基于内容的推荐方法来提供混合推荐。提供了从前端应用、后台服务、算法设计实现、平台部署等多方位的闭环的业务时实现
### 项目框架  
 ![img.png](img/img01.png)  
1. 用户可视化:主要负责实现和用户的交互以及业务数据的展示,主体采用AngularJS2进行实现，部署在Apache服务上。
2. 综合业务服务:主要实现JavaEE层面整体的业务逻辑，通过Spring进行构建，对接业务需求。部署在Tomcat上。
3. 业务数据库:采用文档数据库MongoDB,主要负责平台业务逻辑诗句阿存储。
4. 搜索服务器:采用ElasticSearch座位模糊检索服务器,利用匹配查询能力实现基于内容的推荐服务。
5. 缓存数据库:采用Redis作为缓存你数据库，用来支撑实时推荐系统部分对于数据的高速获取需求。

【离线推荐】  
1. 批处理统计性业务采用SparkCore+SparkSQL 进行实现,实现对指标类数据的统计任务。
2. 离线推荐服务:离线推荐业务采用 SparkCore+SparkMLib 进行实现,采用ALS算法进行实现。
3. 工作调度服务:对于离线推荐部分需要以一定的时间频率对算法进行调度,采用Azkaban进行任务调度。

【实时推荐】  
日志采集:   通过利用Flume-ng对业务平台中用户对于电影的一次评分行为进行采集，实时发送到kafka集群。  
消息缓冲服务:项目采用Kafka作为流式数据的缓存组件，接受来自Flume的数据采集请求。并将数据推送到项目的实时推荐系统部分。  
实时推荐服务:项目采用SparkStreaming作为实时推荐系统，通过接收Kafka中缓存的数据,
           通过设计的推荐算法实现对实时推荐的数据处理，并将结构合并更新到MongoDB数据库。   
#### 数据流程  
![img02.png](img/img02.png)  
【具体流程如下】
```markdown
【数据初始化】
通过SparkSQL将系统初始花数据加载到MongoDB和ElasticSearch中。
【离线推荐部分】  
 1. 通过Azkaban实现对于离线统计服务以离线推荐服务的调度，通过设定的运行时间完成任务的触发执行。
 2. 离线统计服务从MongoDB中加载数据,将【电影评分统计】、【电影评分个数统计】、【最近电影评分个数统计】三个统计算法进行实现。并将结果会写到MongoDB中;离线推荐服务从MongoDB中加载数据,通过ALS算法分别将【用户推荐结果矩阵】、【影片相似度矩阵】回写到MongoDB中。


```
### 技术补漏

### 开发流程   

### 所用技术栈  

